
<h2> <%= @assignment.course.title %> </h2>
<h3> <%= @assignment.title %> </h3>

<% if @assignment.elements.any? %>
  <% @assignment.elements.each do |element| %>
    <% if element.type_id == 1 %>
      <div class="text">
        <h4> <%= element.title %> </h4>
        <p> <%= element.content %> <p>
        <strong> <%= element.citation %> </strong>
      </div>
    <% elsif element.type_id == 2 %>
      <div class="tipbox">
        <h4> <%= element.title %> </h4>
        <%= element.content %>
        <strong> <%= element.citation %> </strong>
      </div>
    <% elsif element.type_id == 3 %>
      <div class="image">
        <h4> <%= element.title %> </h4>
        <img src=<%= "#{element.url}" %>></img>
        <strong> <%= element.citation %> </strong>
      </div>
    <% elsif element.type_id == 4 %>
      <div class="video">
        <h4> <%= element.title %> </h4>
        <iframe src=<%= "#{element.url}" %>></img>
        <strong> <%= element.citation %> </strong>
      </div>
    <% elsif element.type_id == 5 %>
      <div class="markdown">
        <h4> <%= element.title %> </h4>
        <%= kramdown(element.content) %>
        <strong> <%= element.citation %> </strong>
      </div>
    <% end %>
  <% end %>
<% end %>


<h4> Add a new assignment element </h4>
<div id=new_element>
  <%= form_for [@assignment.course, @assignment, @element] do |f| %>
    <% if @element.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@element.errors.count, "error") %> prohibited this post from being saved:</h2>

      <ul>
      <% @element.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
    <p>
      <%= f.label :type_id, "Element Type" %>
      <%= f.select :type_id, options=[["Text", 1], ["Tipbox", 2], ["Image", 3], ["Video", 4], ["Markdown", 5]] %>
    </p>
    <p>
      <%= f.label :title %>
      <%= f.text_field :title %>
    </p>
    <p>
      <%= f.label :url %>
      <%= f.text_field :url %>
    </p>
    <p>
      <%= f.label :content %>
      <%= f.text_area :content %>
    </p>
    <p>
      <%= f.label :citation %>
      <%= f.text_field :citation %>
    </p>
    <p>
      <%= f.submit %>
    </p>
  <% end %>
</div>
